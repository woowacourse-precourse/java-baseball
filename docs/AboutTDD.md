# 테스트 단위와 TDD



## 테스트 단위

---

**(자료마다 언급하는 테스트 단위의 의미와 범위가 모두 조금씩 달라, 본 2주차 미션에 적용할 수 있는 내용 위주로 탐색함.)**



### 단위 테스트 (Unit Test)

- 가장 작은 단위의 테스트이다.
- 보통 각 메서드 별로 테스트가 이루어지거나, 기능의 아주 작은 단위에 대한 테스트가 이루어진다.
    - "함수 A가 실행되면 B가 나온다" 정도로 테스트한다.
- 즉각적인 피드백을 받을 수 있다.
- 각각의 메서드들이 잘 동작한다는 것은 보장될 수 있지만, 이들이 결합되었을 때도 잘 동작하는지 여부는 보장되지 않는다.



### 통합 테스트 (Integration Test)

- 단위 테스트보다 큰 개념으로, 일반적으로는 **개발자가 변경할 수 없는 부분(ex. 외부 라이브러리)까지 고려한 테스트**이다.
    - Ex) 특정 기능의 결과가 DB에 저장되어야 한다면, DB에 저장하는 과정까지 고려해야 한다.
- 하지만 본 미션에서는 **여러 개의 단위 테스트들을 합쳐 정상적으로 동작하는지 테스트하는 단계**로 설정하면 좋을 것 같다.
    - 단위 테스트 없이 통합 테스트를 수행할 경우, 에러 발생 원인을 찾기 어렵고, 코드 리팩토링에 시간이 크게 소요될 수 있다.



### 기능 테스트 (Functional Test)

- 통합 테스트보다 큰 개념으로, **전체 애플리케이션의 기능이 정상적으로 동작하는지 확인하는 테스트**이다.
- 여러가지 코드들이 복합적으로 섞여있기 때문에 비교적 시간이 오래 소요될 수 있다.
    - 따라서 기능 테스트를 너무 세밀하게 나눠서 수행하면 좋지 않다.



##### <본 미션에서는 "단위 -> 통합 -> 기능" 순으로 묶어가면서 테스트를 수행하면 좋을 것 같다.>

---





## TDD

---

- Test Driven Development, 테스트 주도 개발
- "Red - Green - Refactoring" 의 개발 사이클을 반복하는 개발 프로세스 중 하나이다.



### TDD 개발 사이클 : Red-Green-Refactoring

<img height = "300" src = "https://user-images.githubusercontent.com/51029359/199735166-cd5e3cbb-7aae-41f2-8e3e-2dd77a143ae7.png">

- **Red**
    - 특정 기능에 대해 변수, 객체, 메소드가 있다는 전제 하에 **테스트 코드를 먼저 작성**한다.
    - 테스트를 실행하면 당연히 구현된 내용이 없으므로 실패하게 된다.
    - 빨갛게 실패한다. Red
- **Green**
    - **테스트를 통과시키기 위한 코드를 작성**한다.
    - 이 때, 완벽히 작성하기 보단, **테스트를 통과할 만큼만 작성**한다.
    - 초록색으로 성공한다. Green
- **Refactoring**
    - 통과된 코드를 **리팩토링**한다. **가장 중요한 과정**이다.
    - 코드를 최적화 하고, 메소드와 클래스를 분리한다.
    - 이 때, 다른 테스트에 영향이 없도록 리팩토링 하는 것도 중요하다.



### TDD 장점

- Green 과정에서 '테스트를 통과할 만큼만' 구현하기 때문에, 불필요한 코드가 줄어든다.
    - 코드가 더러워지는걸 막을 수 있다.
    - 코드가 간결해지고, 이는 곧 유지보수에 도움된다.
- 테스트 코드를 우선으로 작성하기 때문에 다음과 같은 효과를 얻을 수 있다.
    - 각 기능 별 테스트가 필수로 수행될 수 있다.
    - 해당 기능에 대한 이해도를 높일 수 있다. (입출력, 예외사항, 기능 시나리오 등)
- 테스트 이후 구현 및 리팩토링 과정에서 코드에 대한 피드백을 빠르게 확인할 수 있다.
- 테스트 코드를 하나의 테스트 문서로 남겨 기록할 수 있다.

---


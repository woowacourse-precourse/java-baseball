# 개발 기록

## 게임 순서 및 구조 파악

1. 게임 시작
   - 게임 시작 문구 출력 : "숫자 야구 게임을 시작합니다." <br></br>

2. 숫자 입력
   - 숫자 입력 문구 출력 : "숫자를 입력해주세요 : "
   - 숫자 입력 시 예외 처리 필요<br></br>

3. 난수 생성
    - 1부터 9까지 서로 다른 수로 이루어진 3자리 수<br></br>

4. 비교 연산
   - 입력된 숫자와 컴퓨터 생성 난수 비교
   - 판정의 종류
     - 스트라이크 : 입력 숫자와 컴퓨터 난수는 **값과 위치가 같은 숫자**
     - 볼 : 입력 숫자와 컴퓨터 난수는 **값이 같으나 위치가 다른 숫자**
     - 낫싱 : 입력 숫자와 컴퓨터 난수는 **값이 다른 숫자**<br></br>

5. 판정 결과 출력
    - 개수, 판정의 종류 순으로 출력
    - 볼과 스트라이크가 함께 있을 시 볼>스트라이크 순으로 출력<br></br>

6. 게임 끝
   - 게임 끝 문구 출력 : "3개의 숫자를 모두 맞히셨습니다! 게임 종료"<br></br>

7. 재시작/종료 입력 문구 입력
   - 재시작/종료 입력 문구 출력 : "게임을 새로 시작하려면 1, 종료하려면 2를 입력하세요."
   - 숫자 입력 시 예외 처리 필요
   - 재시작 선택 시 1번의 게임 시작 문구를 출력하지 않고 2번부터 진행
   - 종료 선택 시 프로그램 종료

## 생각

1. 난수 생성을 언제할지 결정해야 한다.
- 숫자 입력 전 :
  - 코드의 가독성이 높아진다.

- 숫자 입력 후 : 
  - 숫자 입력 시 예외가 발생해 프로그램이 종료될 수 있다.
  - 예외가 발생하지 않은 것을 확인한 후에 난수를 생성하는 것이 효율적이다.<br></br>

2. MVC 패턴을 적용해보고 싶다.
- 전체 게임의 구조를 다음과 같이 분리할 수 있다.
  - 게임을 시작 및 숫자를 입력하는 `Client`
  - 컴퓨터 생성 난수를 저장하는 `Model`
  - 출력을 담당하는 `View`
  - Client의 입력에 대해 Model에서 데이터를 조회해 비교 연산을 수행하고 결과값을 View에 넘겨주는 `Controller`

3. 입력 숫자, 난수 등의 숫자는 모두 문자열로 주고 받는다.
- int 형이 아닌 문자열로 주고받았을 때 다양한 이점이 존재한다.
  - 정규식을 활용할 수 있다.
  - Console.readLine() 메소드는 입력을 문자열로 읽는다. 따라서 형변환을 하지 않아도 된다.

4. 숫자야구에 쓰이는 숫자를 객체로 포장한다.

5. 재시작/종료 의사를 입력할 때 쓰이는 숫자를 객체로 포장한다.

## MVC 정리 및 기능 목록

### 그림 도식화
<img width="" src="https://user-images.githubusercontent.com/106813090/200565570-0889119c-1166-4f48-be31-a105207b178a.png"/>

### Model
1. 난수 생성 기능
    - 메소드 호출 시 난수를 생성하는 기능<br></br>
   
2. 난수 반환 기능
    - 메소드 호출 시 생성한 난수를 반환하는 기능

### Controller
1. View에 전달 기능
    - 게임 시작, 숫자 입력, 판정 결과, 게임 종료, 재시작/종료 선택 등의 문구 중 어떤 문구를 출력할지 결정해서 전달
    - 판정 결과는 비교 연산 후 데이터 포함해서 전달<br></br>
   
2. (게임 중)숫자 입력 기능
   - 숫자 맞추기 : `서로 다른`, `숫자 3개`를 입력받는 기능
   - 입력한 숫자의 형식을 검사 -> domain Ball 객체 활용
     - 3개의 숫자인지 아닌지 검사
     - 서로 다른지 같은지 검사<br></br>
    
3. 난수를 불러오는 기능
   - Model에서 난수를 불러오는 기능<br></br>
    
4. 비교 기능
    - 난수와 입력 숫자를 비교하는 기능
    - 값이 같은 숫자가 포함되어 있는지 -> domain Ball 객체 활용
    - 값이 같은 숫자가 있다면 위치가 같은지 -> domain Ball 객체 활용
    - 위치와 값이 같은 숫자 개수, 위치는 다르지만 값이 같은 숫자 개수 반환<br></br>
    
5. (게임 종료 후)숫자 입력 기능
   - 게임 재시작/프로그램 종료 선택 : 1 : 재시작, 2 : 종료
   - 입력한 숫자의 형식을 검사 -> domain Action 객체 활용
     - 1과 2 이외의 다른 숫자인지 검사

6. (게임 종료 후)입력된 숫자가 재시작/종료 중 무엇인지 확인하는 기능
    - 재시작인지 확인 -> domain Action 객체 활용
    - 재시작인 경우, 난수를 재생성하는 기능 포함

7. 전체 게임의 템플릿
    
### View
1. 게임 시작 문구 출력 기능
   - "숫자 야구 게임을 시작합니다."<br></br>
    
2. 숫자 입력 문구 출력 기능
   - "숫자를 입력해주세요 : "<br></br>
    
3. 판정 결과 출력 기능
   - "1볼 1스트라이크", "1볼", "3스트라이크", "낫싱" 등
   - 매개변수에 따라 출력이 달라짐<br></br>
    
4. 게임 끝 문구 출력
   - "3개의 숫자를 모두 맞히셨습니다! 게임 종료"<br></br>
    
5. 재시작/종료 입력 문구 출력
   - "게임을 새로 시작하려면 1, 종료하려면 2를 입력하세요."

### Domain
#### class Ball
- 숫자야구에 사용되는 숫자를 포장하는 객체

1. 두 Ball 인스턴스에 위치에 해당하는 값을 비교하는 기능
    - 인덱스 개념으로 접근
    - 각 인덱스의 값이 같으면 count
    - count를 반환
   
2. 두 Ball 인스턴스에 값을 비교하는 기능
   - 포함 여부를 확인
   - 각 숫자를 포함하고 있으면 count
   - count를 반환

3. 숫자야구에 사용되는 숫자의 형식을 검증하는 기능
    - 3개의 숫자로 이루어진 문자인지 검증
    - 서로 다른 숫자인지 검증

4. 본래의 String을 반환하는 기능

#### class Action
- 사용자의 시작/재시작/종료 등의 행동 숫자를 포장하는 객체

1. 행동이 시작인지 확인하는 기능
    - 시작 / 재시작인 경우 게임을 진행하는데 사용

2. 행동에 사용되는 숫자의 형식을 검증하는 기능
    - 1 혹은 2의 숫자인지 검증

## 리팩토링

1. 하드 코딩을 피하자.
    - enum, 상수 등을 적용하자.

2. 변하는 부분과 변하지 않는 부분을 분리해보자.

3. 코드의 가독성을 높이자.
   - 메소드의 이름을 수정하자.
   - 메소드를 더 분리하자.
   - 숫자야구게임을 몰라도 코드만 보고 게임을 이해할 수 있게 만들자.

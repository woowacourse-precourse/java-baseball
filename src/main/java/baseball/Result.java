package baseball;

import java.util.List;
import java.util.Objects;
import java.util.stream.IntStream;

/**
 * Class that handle the results of the game.
 */
public class Result {

  int strike = 0;
  int ball = 0;

  Result(List<Integer> computer, List<Integer> user) {
    this.strike = countStrike(computer, user);
    this.ball = countBall(computer, user);
  }

  /**
   * Count the number of strike.
   * @param computer answer generated by computer.
   * @param user answer entered by user.
   * @return number of strike
   */
  private int countStrike(List<Integer> computer, List<Integer> user) {
    return (int) IntStream.range(0, computer.size())
        .filter(i -> Objects.equals(computer.get(i), user.get(i)))
        .count();
  }

  /**
   * Count the number of ball.
   * @param computer answer generated by computer.
   * @param user answer entered by user.
   * @return number of ball
   */
  private int countBall(List<Integer> computer, List<Integer> user) {
    int countContains = (int) user.stream()
        .filter(computer::contains)
        .count();
    return countContains - countStrike(computer, user);
  }

  /**
   * Output the results of the game's execution
   */
  public void print() {
    if (strike == 3) {
      System.out.println("3스트라이크");
      System.out.println("3개의 숫자를 모두 맞히셨습니다! 게임 종료");
    } else if (strike == 0 && ball == 0) {
      System.out.println("낫싱");
    } else {
      if (ball != 0) {
        System.out.printf("%d볼 ", ball);
      }

      if (strike != 0) {
        System.out.printf("%d스트라이크 \n", strike);
      }
    }
  }
}
